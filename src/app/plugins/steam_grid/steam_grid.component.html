<div>
	<h1>Steam Grid DB</h1>
	<p-stepper (activeStepChange)="onStepChange($event)">
		<p-stepperPanel header="{{'game' | translate}}">
			<ng-template
				let-index="index"
				let-nextCallback="nextCallback"
				pTemplate="content"
			>
				<div style="width: 100%">
					<div [style]="{ margin: '20px' }">
						<h2>{{'selectTheGameYouWantToAdd' | translate}}</h2>
						<p *ngIf="message">{{ message }}</p>
						<div *ngIf="!message">
							<p-listbox
								(ngModelChange)="updateSelectedItem($event)"
								[(ngModel)]="selectedItem"
								[options]="searchedGames"
								optionLabel="name"
							></p-listbox>
						</div>
					</div>
				</div>
				<div style="display: flex; justify-content: flex-end">
					<p-button
						(onClick)="nextCallback.emit()"
						icon="pi pi-arrow-right"
						iconPos="right"
						label="{{'next' | translate}}"
					/>
				</div>
			</ng-template>
		</p-stepperPanel>
		<p-stepperPanel header="Grid">
			<ng-template
				let-index="index"
				let-nextCallback="nextCallback"
				let-prevCallback="prevCallback"
				pTemplate="content"
			>
				<div style="width: 100%">
					<div [style]="{ margin: '20px' }">
						<h2>{{'selectTheGrid' | translate}}</h2>
						<div class="container">
							<div
								*ngFor="let grid of availableGrids; let i = index"
							>
								<img
									(click)="selectGrid(grid.image, i)"
									[ngSrc]="grid.thumb"
									alt="Grid"
									class="grid"
									height="300"
									id="grid-{{ i }}"
									width="200"
								/>
							</div>
						</div>
					</div>
				</div>
				<div style="display: flex; justify-content: space-evenly">
					<p-button
						(onClick)="prevCallback.emit()"
						icon="pi pi-arrow-left"
						label="{{'back' | translate}}"
					/>
					<p-button
						(onClick)="nextCallback.emit()"
						icon="pi pi-arrow-right"
						iconPos="right"
						label="{{'next' | translate}}"
					/>
				</div>
			</ng-template>
		</p-stepperPanel>
		<p-stepperPanel header="Hero">
			<ng-template
				let-index="index"
				let-nextCallback="nextCallback"
				let-prevCallback="prevCallback"
				pTemplate="content"
			>
				<div style="width: 100%">
					<div [style]="{ margin: '20px' }">
                        <h2>{{'selectTheHero' | translate}}</h2>
						<div class="container">
							<div
								*ngFor="let hero of availableHeroes; let i = index"
							>
								<img
									(click)="selectHero(hero.image, i)"
									[ngSrc]="hero.thumb"
									alt="Hero"
									class="hero"
									height="180"
									id="hero-{{ i }}"
									width="300"
								/>
							</div>
						</div>
					</div>
				</div>
				<div style="display: flex; justify-content: space-evenly">
					<p-button
						(onClick)="prevCallback.emit()"
						icon="pi pi-arrow-left"
						label="{{'back' | translate}}"
					/>
					<p-button
						(onClick)="nextCallback.emit()"
						icon="pi pi-arrow-right"
						iconPos="right"
						label="{{'next' | translate}}"
					/>
				</div>
			</ng-template>
		</p-stepperPanel>
		<p-stepperPanel header="{{'logo' | translate}}">
			<ng-template
				let-index="index"
				let-nextCallback="nextCallback"
				let-prevCallback="prevCallback"
				pTemplate="content"
			>
				<div style="width: 100%">
					<div [style]="{ margin: '20px' }">
						<h2>{{'selectTheLogo' | translate}}</h2>
						<div class="container">
							<div
								*ngFor="let logo of availableLogos; let i = index"
							>
								<img
									(click)="selectLogo(logo.image, i)"
									[ngSrc]="logo.thumb"
									alt="Logo"
									class="logo"
									height="118"
									id="logo-{{ i }}"
									width="250"
								/>
							</div>
						</div>
					</div>
				</div>
				<div style="display: flex; justify-content: space-evenly">
					<p-button
						(onClick)="prevCallback.emit()"
						icon="pi pi-arrow-left"
						label="{{'back' | translate}}"
					/>
					<p-button
						(onClick)="nextCallback.emit()"
						icon="pi pi-arrow-right"
						iconPos="right"
						label="{{'next' | translate}}"
					/>
				</div>
			</ng-template>
		</p-stepperPanel>
		<p-stepperPanel header="Icon">
			<ng-template
				let-index="index"
				let-prevCallback="prevCallback"
				pTemplate="content"
			>
				<div style="width: 100%">
					<p>{{'selectTheIcon' | translate}}</p>
					<div class="container">
						<div *ngFor="let icon of availableIcons; let i = index">
							<img
								(click)="selectIcon(icon.image, i)"
								[ngSrc]="icon.thumb"
								alt="Icon"
								class="icon"
								height="128"
								id="icon-{{ i }}"
								width="128"
							/>
						</div>
					</div>
				</div>
				<div style="display: flex; justify-content: space-evenly">
					<p-button
						(onClick)="prevCallback.emit()"
						icon="pi pi-arrow-left"
						label="{{'back' | translate}}"
					/>
					<p-button
						(click)="send()"
						icon="pi pi-save"
						label="{{'save' | translate}}"
					></p-button>
				</div>
			</ng-template>
		</p-stepperPanel>
	</p-stepper>
</div>
